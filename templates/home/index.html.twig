{% extends 'base.html.twig' %}

{% block title %}Amiam
{% endblock %}
{% block stylesheets %}
	<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
	{# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}

	<!-- Font Awesome -->
	<link
	rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer"/> <!-- Axentix CSS minified version -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/axentix@2.3.0/dist/axentix.min.css">
	{{ encore_entry_link_tags('app') }}

	<link rel="stylesheet" href="{{asset('./assets/css/style.css')}}">
	<link rel="stylesheet" href="{{asset('./assets/css/baseStyle.css')}}">
	<link rel="stylesheet" href="{{asset('./assets/css/homeStyle.css')}}">
	<link rel="stylesheet" href="{{asset('./assets/css/recette/recetteIndexStyle.css')}}">
{% endblock %}

{% block body %}


	<section class="home">
		{% if is_granted('ROLE_USER') %}

			<div class="granted">
				<div class="groupeBtn">
					<a class="btn btnOk" href="{{path('app_repasnew')}}">
						<i class="fa-solid fa-circle-plus"></i>
						Repas</a>
				</div>
				<div class="recettesIndex">
					<h1>Mes recettes</h1>

					<a class="btn iconeAjout" href="{{path('app_recette_new')}}">
						<i class="fa-solid fa-circle-plus"></i>
					</a>

					<div class="cards">
						<h2 id="aperitifH2" onclick="showHide(aperitif)" >Apéritif
							<span>
								<i class="fa-solid fa-sort-down"></i>
							</span>
						</h2>
						<div id="aperitif" class="dnone">

							{% for recette in app.user.recettes |  sort((a, b)=> a.titre <=> b.titre)  %}
								{% if recette.categorie.categorie is same as 'Apéritif' %}

									<div class="card shadow-1 hoverable-1 rounded-3 ">
										<a class="cardRecette" href="{{ path('app_recette_show', {'id': recette.id}) }}">
											{% if recette.photo %}
												<div class="imgRecette"><img src="{{asset('assets/uploads/photosRecettes/mini/')}}{{ recette.photo }}" alt="{{ recette.titre }}"></div>
											{% else  %}
												<div class="imgRecette"><img src="{{asset('./assets/img/recette.jpg')}}" alt="{{ recette.titre }}"></div>
											{% endif  %}

											<div class="slugRecette">
												<h3 class="titreRecette">{{ recette.titre }}</h3>

												<div>{{ recette.categorie.categorie }}


												</div>
												<div class="tpsRecette">
													{% if recette.tpsPreparation %}
														<div>
															<div>Préparation</div>
															<div>{{ recette.tpsPreparation }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsRepos %}
														<div>
															<div>Repos</div>
															<div>{{ recette.tpsRepos }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsCuisson %}

														<div>
															<div>Cuisson</div>
															<div>{{ recette.tpsCuisson }}
																min</div>
														</div>
													{% endif %}

												</div>
											</div>
										</a>
									</div>

								{% endif %}

							{% endfor %}

						</div>

						<h2 id="entreeH2" onclick="showHide(entree)" >Entrées
							<span>
								<i class="fa-solid fa-sort-down"></i>
							</span>
						</h2>
						<div id="entree" class="dnone">
							{% for recette in app.user.recettes |  sort((a, b)=> a.titre <=> b.titre)  %}
								{% if recette.categorie.categorie is same as 'Entrée' %}

									<div class="card shadow-1 hoverable-1 rounded-3 ">
										<a class="cardRecette" href="{{ path('app_recette_show', {'id': recette.id}) }}">
											{% if recette.photo %}
												<div class="imgRecette"><img src="{{asset('assets/uploads/photosRecettes/mini/')}}{{ recette.photo }}" alt="{{ recette.titre }}"></div>
											{% else  %}
												<div class="imgRecette"><img src="{{asset('./assets/img/recette.jpg')}}" alt="{{ recette.titre }}"></div>
											{% endif  %}

											<div class="slugRecette">
												<h3 class="titreRecette">{{ recette.titre }}</h3>

												<div>{{ recette.categorie.categorie }}


												</div>
												<div class="tpsRecette">
													{% if recette.tpsPreparation %}
														<div>
															<div>Préparation</div>
															<div>{{ recette.tpsPreparation }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsRepos %}
														<div>
															<div>Repos</div>
															<div>{{ recette.tpsRepos }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsCuisson %}

														<div>
															<div>Cuisson</div>
															<div>{{ recette.tpsCuisson }}
																min</div>
														</div>
													{% endif %}

												</div>
											</div>
										</a>
									</div>
								{% endif %}

							{% endfor %}

						</div>

						<h2 id="platH2" onclick="showHide(plat)" >Plats principaux
							<span>
								<i class="fa-solid fa-sort-down"></i>
							</span>
						</h2>

						<div id="plat" class="dnone">
							
							{% for recette in app.user.recettes |  sort((a, b)=> a.titre <=> b.titre)  %}
								{% if recette.categorie.categorie is same as 'Plat principal' %}

									<div class="card shadow-1 hoverable-1 rounded-3 ">
										<a class="cardRecette" href="{{ path('app_recette_show', {'id': recette.id}) }}">
											{% if recette.photo %}
												<div class="imgRecette"><img src="{{asset('assets/uploads/photosRecettes/mini/')}}{{ recette.photo }}" alt="{{ recette.titre }}"></div>
											{% else  %}
												<div class="imgRecette"><img src="{{asset('./assets/img/recette.jpg')}}" alt="{{ recette.titre }}"></div>
											{% endif  %}

											<div class="slugRecette">
												<h3 class="titreRecette">{{ recette.titre }}</h3>

												<div>{{ recette.categorie.categorie }}


												</div>
												<div class="tpsRecette">
													{% if recette.tpsPreparation %}
														<div>
															<div>Préparation</div>
															<div>{{ recette.tpsPreparation }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsRepos %}
														<div>
															<div>Repos</div>
															<div>{{ recette.tpsRepos }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsCuisson %}

														<div>
															<div>Cuisson</div>
															<div>{{ recette.tpsCuisson }}
																min</div>
														</div>
													{% endif %}

												</div>
											</div>
										</a>
									</div>
								{% endif %}

							{% endfor %}

						</div>

						<h2 id="dessertH2" onclick="showHide(dessert)" >Desserts
							<span>
								<i class="fa-solid fa-sort-down"></i>
							</span>
						</h2>

						<div id="dessert" class="dnone">
							{% for recette in app.user.recettes |  sort((a, b)=> a.titre <=> b.titre)  %}
								{% if recette.categorie.categorie is same as 'Dessert' %}

									<div class="card shadow-1 hoverable-1 rounded-3 ">
										<a class="cardRecette" href="{{ path('app_recette_show', {'id': recette.id}) }}">
											{% if recette.photo %}
												<div class="imgRecette"><img src="{{asset('assets/uploads/photosRecettes/mini/')}}{{ recette.photo }}" alt="{{ recette.titre }}"></div>
											{% else  %}
												<div class="imgRecette"><img src="{{asset('./assets/img/recette.jpg')}}" alt="{{ recette.titre }}"></div>
											{% endif  %}

											<div class="slugRecette">
												<h3 class="titreRecette">{{ recette.titre }}</h3>

												<div>{{ recette.categorie.categorie }}


												</div>
												<div class="tpsRecette">
													{% if recette.tpsPreparation %}
														<div>
															<div>Préparation</div>
															<div>{{ recette.tpsPreparation }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsRepos %}
														<div>
															<div>Repos</div>
															<div>{{ recette.tpsRepos }}
																min</div>
														</div>
													{% endif %}
													{% if recette.tpsCuisson %}

														<div>
															<div>Cuisson</div>
															<div>{{ recette.tpsCuisson }}
																min</div>
														</div>
													{% endif %}
												</div>
											</div>
										</a>
									</div>
								{% endif %}
							{% endfor %}
						</div>
					</div>
				</div>
			</div>
		{% else %}
			<div class="notGranted">
				<h1>Amiam</h1>
				<div class="interrogation">


					<div class="premiere card shadow-1 rounded-4 ">
						<p>
							<i class="fa-solid fa-quote-left"></i>
							Si j’invite Pierre, Paul et Jacques samedi soir à la maison, qu’est-ce que je pourrais bien leur faire à manger ?
							<i class="fa-solid fa-quote-right"></i>
						</p>
					</div>


					<div class="image">
						<img src="{{asset('./assets/img/femme-reflechit.jpg')}}" alt="femme reflechit freepik">
					</div>
					<div class="deuxieme card shadow-1 rounded-4">
						<p>
							<i class="fa-solid fa-quote-left"></i>
							Je leur ferai bien du poisson avec du brocoli, mais je suis plus très sûre que Paul aime bien les brocolis, et je  crois que j’ai déjà fait ce plat à Pierre.
							<i class="fa-solid fa-quote-right"></i>
						</p>
					</div>
				</div>
				<div class="reponse">
					<div class="image">
						<img src="{{asset('./assets/img/couple.jpg')}}" alt="couple freepik">
					</div>
					<div class="texte card shadow-1 rounded-4">
						<p>
							<i class="fa-solid fa-quote-left"></i>
							Tu devrais essayer Amiam !
						</p>
						<p>

							Grâce à ce site on peut enregistrer, modifier et supprimer nos recettes comme dans une application classique.</p>
						<p>

							On peut aussi créer des fiches amis sur lesquelles on note leurs allergies et ce qu’ils n’aiment pas.
						</p>
						<p>
							Du coup, on peut créer des repas et choisir uniquement parmis les recettes qui conviennent aux amis qu'on a invités !
							<i class="fa-solid fa-quote-right"></i>
						</p>
					</div>

				</div>


				<div class="groupeBtn">
					<a class="btn btnOk" href="{{path('app_login')}}">Connexion</a>
				</div>
			</div>
		{% endif %}


	</section>
{% endblock %}
{% block javascripts %}
	<script src="{{asset('./assets/js/showHideCatRecette.js')}}"></script>
{% endblock %}
